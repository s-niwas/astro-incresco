---
import ContentSection from "~/components/home/ContentSection.astro";
import TechnologyList from "~/components/home/TechnologyList.astro";

import { useStoryblokApi } from "@storyblok/astro";

const storyblokApi = useStoryblokApi();
let content;
try {
  const { data } = await storyblokApi.get("cdn/stories/technologysection", {
    version: import.meta.env.DEV ? "draft" : "published",
  });
  content = data.story.content;
} catch (error) {}


---

<ContentSection title={content?.techTopSection[0]?.title} id="technology">
  <Fragment slot="lead">
    {content?.techTopSection[0]?.subTitle}
  </Fragment>
  <TechnologyList items={content?.techStacks} />
</ContentSection>
